# CritterCatcherAI Configuration

# Paths (container paths - map these in docker-compose.yml)
paths:
  downloads: /data/downloads
  sorted: /data/sorted
  face_encodings: /data/faces/encodings.pkl

# Ring doorbell settings
ring:
  # How many hours back to download videos
  download_hours: 24
  
  # Optional: limit number of videos per run (null for no limit)
  download_limit: null

# Manual YOLO categories (managed via Species Training page)
# Categories manually enabled here will be used for detection even if not part of an Animal Profile
yolo_manual_categories: []

# Detection settings
detection:
  # YOLO model selection: yolov8n (nano - fastest), yolov8s (small), yolov8m (medium), 
  # yolov8l (large), yolov8x (extra large - most accurate)
  yolo_model: yolov8n
  
  # Object labels to detect - MUST match YOLO COCO classes
  # Available COCO classes: person, bicycle, car, motorcycle, airplane, bus, train, truck, boat,
  # traffic light, fire hydrant, stop sign, parking meter, bench, bird, cat, dog, horse, sheep,
  # cow, elephant, bear, zebra, giraffe, backpack, umbrella, handbag, tie, suitcase, frisbee,
  # skis, snowboard, sports ball, kite, baseball bat, baseball glove, skateboard, surfboard,
  # tennis racket, bottle, wine glass, cup, fork, knife, spoon, bowl, banana, apple, sandwich,
  # orange, broccoli, carrot, hot dog, pizza, donut, cake, chair, couch, potted plant, bed,
  # dining table, toilet, tv, laptop, mouse, remote, keyboard, cell phone, microwave, oven,
  # toaster, sink, refrigerator, book, clock, vase, scissors, teddy bear, hair drier, toothbrush
  object_labels:
    - bird       # Catches all birds (crows, robins, wrens, finches, etc.)
    - cat        # Includes outdoor/feral cats and potentially small mammals
    - dog        # Dogs and potentially foxes
    - person     # People including delivery persons
    - car
    - bicycle
    - truck      # Delivery trucks
  
  # Confidence threshold for object detection (0.0-1.0)
  # YOLO performs well at 0.25-0.5. Lower = more detections, higher = more accuracy
  confidence_threshold: 0.35
  
  # Number of frames to analyze for object detection (3-20)
  # More frames = more accurate but slower processing
  object_frames: 5
  
  # Face recognition tolerance (0.0-1.0)
  # Lower = more strict matching
  # Higher = more lenient matching
  face_tolerance: 0.6
  
  # Number of frames to analyze for face recognition (5-30)
  # More frames = better chance of recognition but slower
  face_frames: 10
  
  # Face detection model: "hog" (fast, CPU-friendly) or "cnn" (accurate, GPU recommended)
  face_model: hog
  
  # Force CPU even if GPU is available
  force_cpu: false
  
  # Priority for sorting: "people" or "objects"
  # "people" = prioritize face recognition over object detection
  # "objects" = prioritize object detection over face recognition
  priority: people


# Scheduler settings
scheduler:
  # Enable automatic processing on a schedule
  # If false, processing only runs when manually triggered via the web UI
  auto_run: true
  
  # How often to download and process videos (in minutes)
  # Options: 15, 30, 60, 120, 240, 360, 720, 1440
  interval_minutes: 60

# Image Review settings
image_review:
  # Auto-confirm threshold (0.0-1.0)
  # Detections with confidence >= this threshold are automatically confirmed
  # and bypass manual review
  auto_confirm_threshold: 0.85
  
  # Maximum confirmed images to keep per label
  # Older confirmed images are automatically deleted when limit is exceeded
  max_confirmed_images: 200

# Logging settings
logging:
  # Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
  # DEBUG: Detailed information for debugging
  # INFO: General informational messages (recommended)
  # WARNING: Warning messages for potential issues
  # ERROR: Error messages for failures
  # CRITICAL: Critical errors that may cause system failure
  level: INFO
  
  # Optional file logging (default: disabled)
  file:
    enabled: true
  
  # GPU monitoring (NVIDIA GPUs only)
  gpu_monitoring:
    enabled: true
    interval_seconds: 5       # Log GPU stats every 5 seconds
    log_on_idle: false        # Skip logging when GPU is idle (0%)
    max_scale_percent: 10     # UI color scale maximum (10% = video transcoding)
                              # Adjust to 15 or 20 if workload increases

# Application settings
# Run once and exit, or run continuously
run_once: false

# Legacy interval setting (kept for backward compatibility)
interval_minutes: 60
